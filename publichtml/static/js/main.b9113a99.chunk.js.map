{"version":3,"sources":["storage.js","components/Loader.js","components/Login.js","components/Search.js","components/UserList.js","components/Modal.js","components/ParChanger.js","components/EntryField.js","components/MealsEntry.js","components/MealsList.js","components/CalorieTracker.js","App.js","serviceWorker.js","index.js"],"names":["storeJwt","jwt","window","localStorage","setItem","Loader","_Component","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","apply","arguments","inherits","createClass","key","value","react_default","a","createElement","className","Component","Login","props","_this","call","login","bind","assertThisInitialized","adminManagerEntry","Boolean","roleOptions","state","email","password","error","name","confirmPassword","newUser","role","deleting","loading","_this2","setState","updating","updateUser","closeModal","axios","url","method","data","then","_ref","asyncToGenerator","regenerator_default","mark","_callee","res","wrap","_context","prev","next","getUserData","stop","_x","catch","e","response","message","finally","_this3","params","defaults","headers","common","_this4","id","onSubmit","preventDefault","register","myRole","displayed","type","concat","me","onClick","placeholder","onChange","target","disabled","confirmassword","loginDisabled","Loader_Loader","Fragment","deleteUser","get","trim","Search","search","max","setSearch","setMax","min","setSkip","Number","skip","count","UserList","getUserList","success","prevProps","prevState","users","_id","callback","optionsArray","test","push","list","forEach","elem","i","isThisMe","myId","UserList_UserEntry","assign","setModalContents","thisIsMe","selectedId","updateData","newData","allData","UserList_NewUser","Search_Search","newSkip","newMax","Math","floor","newSearch","colSpan","NewUser","_this5","active","_this6","Login_Login","UserEntry","_this7","changeQuery","_this8","objectSpread","_this9","Modal","lib_default","children","ParChanger","editing","pendingParCalories","parCalories","changePar","setPar","onBlur","out","setTimeout","autoFocus","onFocus","select","clearTimeout","EntryField","pendingValue","submit","editableInput","maxLength","autoComplete","size","MealsEntry","defaultState","saveMeal","outOfRange","enteredDate","Date","fromDate","toDate","dateRangeWarning","dateRangeWarningNoted","description","calories","date","time","hours","minutes","userId","newState","updateMealsList","inputProps","htmlFor","month","year","deleteEntry","theDate","getMonth","getDate","getFullYear","getHours","getMinutes","MealsList","sortedBy","setHours","setDate","fromTime","toTime","calsPerDay","updateList","update","length","truncated","MealsList_Filters","setFromDate","setToDate","setFromTime","setToTime","entryRows","entryArray","MealsList_Entry","setLoading","bool","over","Filters","newDate","dateString","oldDate","toString","console","log","oldTime","theTime","EntryField_EntryField","fromYear","fromMonth","newTime","fromMinutes","fromHours","toYear","toMonth","toMinutes","toHours","Entry","deleted","_this10","_this11","MealsEntry_MealsEntry","CalorieTracker","logout","ParChanger_ParChanger","MealsList_MealsList","baseURL","s","location","href","host","apiPath","slice","getItem","post","interceptors","use","undefined","document","getElementById","click","Promise","reject","App","modalContents","alreadyAttempted","jwtNew","contents","Modal_Modal","UserList_UserList","CalorieTracker_CalorieTracker","newParCalories","hostname","match","ReactDOM","render","src_App_0","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.b9113a99.chunk.js","sourcesContent":["export function storeJwt(jwt){\n  window.localStorage.setItem('calorieJwt', jwt)\n}\n\nexport function getJwt(){\n  return window.localStorage.getItem('calorieJwt');\n}\n","import React, { Component } from 'react';\n\nexport class Loader extends Component {\n  render(){\n    return <div className={'loader'}></div>\n  }\n}\n","import React, { Component } from 'react';\nimport {Loader} from './Loader.js'\nimport axios from 'axios';\nimport {storeJwt} from '../storage.js';\n\n//Also handles adding and editing users from admin and manager roles.\nexport class Login extends Component {\n  constructor(props){\n    super(props);\n    this.login = this.login.bind(this);\n    this.adminManagerEntry = Boolean(this.props.roleOptions)\n    this.state = {\n      email: this.props.email || '',\n      password: '',\n      error: '',\n      name: this.props.name || '',\n      confirmPassword: '',\n      newUser: this.adminManagerEntry, //more fields when true.\n      role: this.props.role || '',\n      deleting: false,\n      loading: false\n    }\n  }\n\n  register(){\n    this.setState({loading: true})\n    if(this.props.updating){\n      return this.props.updateUser({ //handled by UserEntry\n        name: this.state.name,\n        email: this.state.email,\n        role: this.state.role\n      }, this.props.closeModal())\n    }\n    axios({\n      url: `auth/register`,\n      method: 'POST',\n      data: {\n        name: this.state.name,\n        email: this.state.email,\n        password: this.state.password,\n        role: this.state.role //Send empty if first logging in to avoid authentication.\n      }\n    }).then(async res => {\n      var data = res.data\n      if(data === 'success!'){\n        if(this.adminManagerEntry){\n          this.props.getUserData(); //A different function will have been passed in.\n          this.props.closeModal();\n        }\n        else this.login();\n      }\n    }).catch(e => {\n      this.setState({error: e.response ? e.response.data : e.message})\n    }).finally(() => {this.setState({loading: false})})\n  }\n\n  login(){\n    this.setState({loading: true})\n    axios({\n      url: `auth/login`,\n      method: 'GET',\n      params: {\n        email: this.state.email,\n        password: this.state.password\n      }\n    }).then(res => {\n      if(res.data.message === 'Login was successful!'){\n        axios.defaults.headers.common['Authorization'] = res.data.jwt;\n        storeJwt(res.data.jwt);\n        this.props.getUserData(false, true);\n      }\n    }).catch((e) => {\n      this.setState({error: e.response ? e.response.data : e.message})\n    }).finally(() => {this.setState({loading: false})})\n  }\n\n  get loginDisabled(){\n    if(this.state.newUser){\n      return ((this.state.password !== this.state.confirmPassword) || !this.state.name.trim())\n    }\n    return (!this.state.email.trim() || !this.state.password.trim())\n  }\n\n  render(){\n    return (\n      <div id='loginDiv'>\n        <form onSubmit={e => {\n          e.preventDefault();\n          if(!this.state.newUser) this.login();\n          else this.register();\n        }}>\n          {this.state.newUser ? <div>{this.props.updating ? 'Update User:' : 'Creating new account!'}</div> : null}\n          <div>\n            {this.props.myRole === 'admin' ?\n              this.props.displayed ? <div>{'Meals data is already loaded.'}</div> :\n                <input className={'unselectedUserButton'} type='button' value={\n                  `Edit${this.props.me ? ' Your' : ''} Meals Data`\n                } onClick={\n                  () => {\n                    this.props.getUserData();\n                    this.props.closeModal();\n                  }}></input> : null}\n          </div>\n          {this.state.newUser ?\n            <input placeholder={this.adminManagerEntry ? 'User\\'s Name' : 'Your Name'}\n              id='userName' type='text' onChange={e => {this.setState({name: e.target.value})}}\n              value={this.state.name}></input> : null}\n          <input  type='email' id='email' placeholder='email' value={this.state.email} onChange={\n            e => this.setState({email: e.target.value})\n          }></input>\n          {this.adminManagerEntry ?\n            <select id={'newUserRole'}\n              onChange={e => {this.setState({role: e.target.value})}}\n              value={this.state.role}>\n                <option disabled={true} value={''}>{'Select Role'}</option>\n                {this.props.roleOptions}\n            </select> : null}\n          {!this.props.updating ? <input type='password' id='password' placeholder={'password'} value={this.state.password} onChange={\n            e => this.setState({password: e.target.value})\n          }></input> : null}\n          {this.state.newUser && !this.props.updating ?\n            <input type='password' id='confirmPassword' placeholder={'confirm password'} value={this.state.confirmassword} onChange={\n            e => this.setState({confirmPassword: e.target.value})\n          }></input> : null}\n          {this.state.newUser && !this.props.updating && this.state.confirmPassword && this.state.confirmPassword !== this.state.password ?\n            <div className={'errorMessage'}>{'Passwords do not match!'}</div>: null}\n          <div>\n            <input type='submit' id='login' value={this.state.newUser ? this.props.updating ? 'Update Account' : 'Create Account' : 'Login'}\n              disabled={this.loginDisabled}></input>\n              {this.props.loading || this.state.loading ? <Loader /> : null}\n          </div>\n          <div>\n            {this.state.deleting ?\n              <React.Fragment>\n                <div>{'Please confirm'}</div>\n                <input type='button' value={'Cancel'} onClick={() => this.setState({deleting: false})}></input>\n              </React.Fragment> : null}\n              {this.props.updating ? <input className={'deleteUser'} value={`${this.state.deleting ? 'Yes, ' : ''}Delete`} type={'button'} onClick={() => {\n                if(this.state.deleting) {\n                  this.props.deleteUser(this.props.closeModal);\n                }\n                else this.setState({deleting: true})\n              }}></input> : null }\n              <input type='button'\n                id={'loginToggle'}\n                value={this.state.newUser ?\n                  this.adminManagerEntry ? 'Cancel' : 'Back to login' :\n                  'Create New User'}\n                onClick={\n                  () => {\n                    if(this.adminManagerEntry) this.props.closeModal();\n                    else this.setState({newUser: !this.state.newUser})\n                  }\n                }>\n              </input>\n            </div>\n          <div className={'errorMessage'}>{this.state.error}</div>\n        </form>\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react';\nimport {Loader} from './Loader.js'\n\n//handles searches for both MealsList and UserList.\n//Those components pass in instructions for properly alter their states.\nexport class Search extends Component {\n  constructor(props){\n    super(props);\n    this.state = {search: '', max: this.props.max}\n  }\n\n  render(){\n    return (\n      <div className=\"search-container\">\n        <form onSubmit={e => {\n            e.preventDefault();\n            if(this.props.setSearch) this.props.setSearch(this.state.search);\n            this.props.setMax(this.state.max || 10)\n          }}>\n          {this.props.setSearch ? <input className={'searchInput'} onChange={e => this.setState({search: e.target.value})}\n          type=\"text\" value={this.state.search} placeholder=\"Search...\" id=\"nameSearch\"></input> : null}\n          <button type=\"submit\" className=\"fa fa-search\"></button>\n          <input className={'maxDisplayInput'} type={'number'} min={1} max={100} value={this.state.max} onChange={e => {this.setState({max: e.target.value})}}></input>\n          <button className=\"fa fa-arrow-left backward\"\n            onClick={() => this.props.setSkip(Number(this.props.skip) - Number(this.props.max))}\n            disabled={this.props.skip === 0}></button>\n          <button className=\"fa fa-arrow-right forward\"\n            onClick={() => this.props.setSkip(Number(this.props.skip) + Number(this.props.max))}\n            disabled={this.props.skip + this.props.max >= this.props.count}></button>\n          {this.props.loading ? <Loader /> : null}\n        </form>\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react';\nimport {Login} from './Login.js';\nimport {Search} from './Search.js';\nimport axios from 'axios';\n\nexport class UserList extends Component {\n  constructor(props){\n    super(props);\n    this.getUserList = this.getUserList.bind(this);\n    this.state = {\n      error: '',\n      data: [],\n      count: 0,\n      skip: 0,\n      search: '',\n      max: 10,\n      success: '',\n      loading: false\n    }\n  }\n\n  get roleOptions(){ //Changes base on user's role. Managers can't edit admins or make someone an admin.\n    var optionsArray = [<option key={'regular'} id={'newRegularSelect'} value={'regular'}>{'regular'}</option>];\n\n    if(/^manager|admin$/.test(this.props.myRole)){\n      optionsArray.push(<option key={'manager'} id={'newManagerSelect'} value={'manager'}>{'manager'}</option>);\n    }\n\n    if(this.props.myRole === 'admin'){\n      optionsArray.push(<option key={'admin'} id={'newAdminSelect'} value={'admin'}>{'admin'}</option>);\n    }\n\n    return optionsArray;\n  }\n\n  componentDidMount(){\n    this.getUserList(); //init list.\n  }\n\n  componentDidUpdate(prevProps, prevState){\n    if(prevState.skip !== this.state.skip ||\n      prevState.max !== this.state.max ||\n      prevState.search !== this.state.search){\n        this.getUserList()\n    }\n  }\n\n  getUserList(){\n    this.setState({loading: true})\n    axios({\n      url: `users/getUserList`,\n      method: 'GET',\n      params: {\n        search: this.state.search,\n        skip: this.state.skip,\n        max: this.state.max\n      }\n    }).then(res => {\n      var data = res.data;\n      this.setState({error: '', success: '', data: data.users, count: data.count});\n    }).catch(e => {\n      this.setState({error: e.response ? e.response.data : e.message})\n    }).finally(() => this.setState({loading: false}))\n  }\n\n  deleteUser(_id, callback){\n    this.setState({loading: true})\n    axios({url: `users`,\n      method: 'DELETE',\n      data: {_id: _id}\n    }).then(res => {\n      this.setState({error: '', success: `Deleted ${res.data.name}, ${res.data.email}.`});\n      this.getUserList()\n    }).catch(e => {\n      this.setState({error: e.response ? e.response.data : e.message})\n    }).finally(() => {\n      this.setState({loading: false})\n      if(callback) callback();\n    })\n  }\n\n  get users(){ //converts the data to jsx objects.\n    var list = [];\n    this.state.data.forEach((elem, i) => {\n      var isThisMe = elem._id === this.props.myId\n      list.push(<UserEntry\n        deleteUser={callback => this.deleteUser(elem._id, callback)}\n        setModalContents={this.props.setModalContents}\n        roleOptions={this.roleOptions}\n        getUserData={() => {\n          this.props.getUserData(elem._id)\n        }}\n        getUserList={this.getUserList}\n        key={elem._id}\n        thisIsMe={isThisMe}\n        displayed={elem._id === this.props.selectedId}\n        myRole={this.props.myRole}\n        updateData={newData => {\n          var allData = this.state.data;\n          allData[i] = newData;\n          this.setState({data: allData});\n          //And refresh the displayed data if the user is selected.\n          if(elem._id === this.props.selectedId) this.props.getUserData(this.props.selectedId);\n        }}\n        {...elem} />)\n    })\n\n    return (\n      <React.Fragment>\n        <div className={'userListHeader'}>\n          <NewUser\n            loading={this.state.loading}\n            setModalContents={this.props.setModalContents}\n            getUserList={this.getUserList}\n            myId={this.props.myId}\n            roleOptions={this.roleOptions} />\n          <Search\n            loading={this.state.loading}\n            skip={this.state.skip}\n            count={this.state.count}\n            max={this.state.max}\n            setSkip={newSkip => {this.setState({skip: newSkip || 0})}}\n            setMax={newMax => {\n              newMax = Number(newMax);\n              this.setState({\n                skip: Math.floor(Number(this.state.skip) / newMax) * newMax,\n                max: Number(newMax)})\n              }\n            }\n            setSearch={newSearch => this.setState({search: newSearch})}/>\n        </div>\n        <div className={'userListTable'}>\n          <table>\n              <tbody>\n                {this.state.success ? <tr><td colSpan='3'><div className={'successMessage'}>{this.state.success}</div></td></tr> : null}\n                {list}\n              </tbody>\n            </table>\n        </div>\n      </React.Fragment>)\n  }\n\n  render(){\n    if(this.props.myRole === 'regular') return null;\n    return (<div className={'userList'}>\n      <h2>{'Calorie Tracker Users'}</h2>\n      {this.users}\n      {this.state.error ? <div className='errorMessage'>{this.state.error}</div> : null}\n    </div>)\n  }\n}\n\nclass NewUser extends Component{\n  constructor(props){\n    super(props);\n    this.state = {active: false}\n  }\n\n  render(){\n    return (\n      <React.Fragment>\n      <input type={'button'}\n        id={'createNewUser'}\n        value={'Create New User'}\n        onClick={() => {this.props.setModalContents(\n          <Login\n            loading={this.props.loading}\n            getUserData={this.props.getUserList}\n            roleOptions={this.props.roleOptions}\n            closeModal={() => this.props.setModalContents(null)} />\n        )}}></input>\n      </React.Fragment>\n    )\n  }\n}\n\nclass UserEntry extends Component{\n  constructor(props){\n    super(props);\n    this.updateUser = this.updateUser.bind(this);\n    this.state = {\n      error: '',\n      deleting: false,\n      loading: false\n    }\n  }\n\n  updateUser(changeQuery, callback){\n    this.setState({loading: true})\n    axios({\n      url: `users`,\n      method: 'PATCH',\n      data: {_id: this.props._id, ...changeQuery}\n    }).then(res => {\n      this.props.updateData(res.data);\n      this.setState({error: ''})\n    }).catch(e => {\n      this.setState({error: e.response ? e.response.data : e.message})\n    }).finally(e => {\n      if(callback) callback();\n      this.setState({loading: false})\n    })\n  }\n\n  render(){\n    var me = this.props.thisIsMe\n    return (<React.Fragment>\n        <tr className={`${this.props.displayed ? 'currentUserEntry ' : ''}userEntry`}\n          onClick={() => {\n            if(this.props.myRole !== 'admin' && this.props.role === 'admin'){\n              this.setState({error: 'You may not edit admins.'})\n            } else {\n            this.props.setModalContents(\n              <Login\n                me={me}\n                myRole={this.props.myRole}\n                updateUser={this.updateUser}\n                updating={true}\n                adminManagerEntry={true}\n                deleteUser={this.props.deleteUser}\n                roleOptions={this.props.roleOptions}\n                getUserData={this.props.getUserData}\n                displayed={this.props.displayed}\n                closeModal={() => this.props.setModalContents(null)}\n                name={this.props.name}\n                email={this.props.email}\n                role={this.props.role}\n                loading={this.state.loading} />\n            )}}}>\n          <td className={'userName'}>{`${this.props.name}${me ? ' (You)' : ''}`}</td>\n          <td id={this.props.email}>{this.props.email}</td>\n          <td className={'newUserRole'}>{this.props.role}</td>\n        </tr>\n        {this.state.error ? <tr>\n          <td colSpan='3'>{<div className='errorMessage'>{this.state.error}</div>}</td>\n        </tr> : null}\n      </React.Fragment>)\n  }\n}\n","import React, { Component } from 'react';\nimport FadeIn from 'react-fade-in';\n\nexport class Modal extends Component {\n  render(){\n    return (<div className='modalbackground'>\n      <div className='modalBody'>\n        <FadeIn>{this.props.children}</FadeIn>\n      </div>\n    </div>)\n  }\n}\n","import React, { Component } from 'react';\nimport {Loader} from './Loader.js'\nimport axios from 'axios';\n\nexport class ParChanger extends Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      editing: false,\n      pendingParCalories: this.props.parCalories,\n      error: '',\n      loading: false\n    }\n    this.changePar = this.changePar.bind(this);\n  }\n\n  componentDidUpdate(prevProps){\n    if(this.props.parCalories !== prevProps.parCalories){\n      //So if we change parCalories, we're not seeing the value from the last person when we click.\n      this.setState({pendingParCalories: this.props.parCalories})\n    }\n  }\n\n  changePar(){\n    this.setState({loading: true})\n    axios({\n      url: `users`,\n      method: 'PATCH',\n      data: {\n        parCalories: this.state.pendingParCalories,\n        _id: this.props.selectedId\n      }\n    }).then(res => {\n      var data = res.data;\n      this.props.setPar(data.parCalories);\n      this.setState({editing: false, error: '', pendingParCalories: data.parCalories});\n    }).catch(e => {\n      this.setState({error: e.response ? e.response.data : e.message})\n    }).finally(() => this.setState({loading: false}))\n  }\n\n  render(){\n    return (\n      <div id='parChanger' onClick={() => this.setState({editing: true})} onBlur={() => {\n        //The timeout gives children the chance to cancel the closing of the box.\n        //It's not clean, but I'm attached to the idea. Setting the timeout to 0 breaks firefox. :/\n        this.out = setTimeout(() => this.setState({editing: false, error: ''}), 500);\n      }}>\n        <div className='label'>{'Daily Calorie Limit:'}</div>\n        {this.state.editing ?\n          <React.Fragment>\n            <form onSubmit={e => {\n              e.preventDefault();\n              this.changePar();\n            }}>\n              <div>\n                <input id='parChangerInput' type='number' value={this.state.pendingParCalories} autoFocus className='input'\n                  onChange={\n                    e => this.setState({pendingParCalories: e.target.value})\n                  }\n                  onFocus={e => {\n                    e.target.select()\n                    clearTimeout(this.out); //don't close it, we're still here!\n                  }}\n                ></input>\n              </div>\n              <div>{Number(this.state.pendingParCalories) !== Number(this.props.parCalories) ?\n                <input type='submit'\n                  onFocus={() => {clearTimeout(this.out)}}\n                  id={'parChangerConfirm'}\n                  value={this.state.pendingParCalories < this.props.parCalories ?\n                    'Submit to eating less' :\n                    'Confirm to eat more'}>\n                </input> : null}{this.state.loading ? <Loader /> : null}</div>\n            </form>\n          </React.Fragment> :\n          <div id='parChangerDisplay' className='value'>{this.props.parCalories}</div>}\n        {this.props.parCalories === 2000 && !this.state.editing ? <div className='label'>{'Click to edit'}</div> : null}\n        {this.state.error ? <div className={'errorMessage'}>{this.state.error}</div> : null}\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react';\n\n//This used to get used for everything, but now it only handles the date filters.\n//It's a handy little component, through.\nexport class EntryField extends Component{\n  constructor(props){\n    super(props);\n    this.state = {\n      pendingValue: this.props.value,\n      editing: false\n    }\n  }\n\n  get editableInput(){\n    return (<input\n      className={'editableInput'}\n      maxLength={this.props.maxLength}\n      autoComplete={'off'}\n      value={this.state.pendingValue}\n      onChange={e => {this.setState({pendingValue: e.target.value})}}\n      autoFocus={true}\n      onFocus={\n        e => {\n          e.target.select()/*Seems like a bug in react makes this not work for iPhones?*/;\n          clearTimeout(this.out)\n        }} size={this.props.maxLength}\n       type={this.props.type || 'text'}\n       max={this.props.max}\n       min={this.props.min}\n      ></input>)\n  }\n\n  render(){\n    return (\n      <div className={`entryCell${this.props.className ? ` ${this.props.className}` : ''}`}\n        id={this.props.id}\n        onBlur={e => {\n          //The timeout gives children the chance to cancel the closing of the box.\n          //I couldn't figure out how to make this work in Firefox with a 0ms timeout. It is what it is. :/\n          this.out = setTimeout(() => this.setState({editing: false}), 500);\n        }}>\n        {this.state.editing ?\n          <form onSubmit={e => {\n            e.preventDefault();\n            this.props.submit(this.state.pendingValue);\n            this.setState({editing: false});\n          }}>\n            {this.editableInput}\n            <div>\n              <input\n                className={'editableInputSubmit'}\n                type='submit' value='Submit'\n                disabled={this.state.pendingValue === this.props.value}\n                onFocus={() => clearTimeout(this.out)}>\n              </input>\n              <input type='button' value='Cancel' onClick={() => this.setState({editing: false})}></input>\n            </div>\n          </form> : <div onClick={() => this.setState({editing: true})}>{this.props.value}</div>\n        }\n      </div>)\n  }\n}\n","import React, { Component } from 'react';\nimport {Loader} from './Loader.js'\nimport axios from 'axios';\n\nexport class MealsEntry extends Component {\n  constructor(props){\n    super(props);\n    this.state = this.defaultState\n    this.saveMeal = this.saveMeal.bind(this);\n  }\n\n  //Date and time need to be seperate since we need to filter by time of day, not just a simple date range.\n  //So the time is stored as a single number (minutes) and the date is stored without the time of day.\n  get defaultState(){\n    var theDate = new Date()\n    return {\n      description: this.props.description || '',\n      calories: this.props.calories || '',\n      month: this.props.month || theDate.getMonth() + 1,\n      date: this.props.date || theDate.getDate(),\n      year: this.props.year || theDate.getFullYear(),\n      hours: this.props.hours || theDate.getHours(),\n      minutes: this.props.minutes || theDate.getMinutes(),\n      error: '',\n      success: '',\n      dateRangeWarning: false, //It's polite to warn the user if the edit will put the entry out of view.\n      dateRangeWarningNoted: false,\n      loading: false\n    }\n  }\n\n  componentDidUpdate(){\n    let outOfRange = (this.enteredDate < new Date(this.props.fromDate) || this.enteredDate > new Date(this.props.toDate))\n    if(!this.state.dateRangeWarning && outOfRange){\n      this.setState({dateRangeWarning: true})\n    } else if(this.state.dateRangeWarning && !outOfRange){\n      this.setState({dateRangeWarning: false})\n    }\n  }\n\n  get enteredDate(){\n    return new Date(`${this.state.month}/${this.state.date}/${this.state.year}`)\n  }\n\n  saveMeal(){\n    if(this.state.dateRangeWarning && !this.state.dateRangeWarningNoted){\n      return this.setState({dateRangeWarningNoted: true, error: 'You are setting your meal outside the visible date range. Submit again to confirm.'})\n    }\n    this.setState({loading: true})\n    axios({\n      url: `meals`,\n      method: this.props.editing ? 'PATCH' : 'POST',\n      data: {\n        description: this.state.description,\n        calories: this.state.calories,\n        date: this.enteredDate,\n        time: (Number(this.state.hours) * 60) + Number(this.state.minutes),\n        userId: this.props.selectedId,\n        _id: this.props._id\n      }\n    }).then(res => {\n      var data = res.data;\n      var newState = this.defaultState;\n      newState.success = `Added \"${data.description}\" to your meals!`;\n      this.setState(newState);\n      if(this.props.editing) this.props.closeModal();\n      else this.setState({loading: false}) //This is the non modal one.\n      this.props.updateMealsList();\n    }).catch(e => {\n      this.setState({error: e.response ? e.response.data : e.message, loading: false})\n    })\n  }\n\n  render(){\n    var editing = this.props.editing\n    var inputProps = {\n      onFocus: e => e.target.select(), //Seems like a bug in react makes this not work for iPhones?\n      type: 'number'\n    }\n    return (\n      <div className={'mealsEntry'}>\n        <h2>{`${this.props.editing ? 'Change This' : 'Add a'} Meal`}</h2>\n        <form onSubmit={e => {\n          e.preventDefault();\n          this.saveMeal();\n        }}>\n          <input placeholder={'Description'} type='text' id={`enterDescription${editing ? 'Edit' : ''}`} value={this.state.description} onChange={e => this.setState({description: e.target.value})}></input>\n          <input placeholder={'Number of Calories'} type='number' id={`enterCalories${editing ? 'Edit' : ''}`} value={this.state.calories} onChange={e => this.setState({calories: e.target.value})}></input>\n\n          <div>\n            <label htmlFor='enterMonth'>{'Date'}</label>\n            <input {...inputProps} min='1' max='12' id={`enterMonth${editing ? 'Edit' : ''}`} value={this.state.month} onChange={e => this.setState({month: e.target.value})}></input>\n            <input {...inputProps} min='1' max='31' id={`enterDate${editing ? 'Edit' : ''}`} value={this.state.date} onChange={e => this.setState({date: e.target.value})}></input>\n            <input {...inputProps} min='1900' max='9999' id={`enterYear${editing ? 'Edit' : ''}`} value={this.state.year} onChange={e => this.setState({year: e.target.value})}></input>\n          </div>\n          <div>\n            <label htmlFor='enterTime'>{'Time'}</label>\n            <input {...inputProps} min='0' max='23' id={`enterTime${editing ? 'Edit' : ''}`} value={this.state.hours} onChange={e => this.setState({hours: e.target.value})}></input>\n            <input {...inputProps} min='1' max='60' id={`enterMinutes${editing ? 'Edit' : ''}`} value={this.state.minutes} onChange={e => this.setState({minutes: e.target.value})}></input>\n          </div>\n          {this.state.error ? <div className={'errorMessage'}>{this.state.error}</div> : null}\n          {this.state.success ? <div className={'successMessage'}>{this.state.success}</div> : null}\n          <input id={`confirmConsumption${editing ? 'Edit' : ''}`} type='submit' value={'Confirm Consumption'}></input>{this.state.loading || this.props.loading ? <Loader /> : null}\n        </form>\n        {this.props.editing ?\n          <React.Fragment>\n            <input type={'button'} value='Cancel' onClick={() => this.props.closeModal()}></input>\n            {this.state.deleting ?\n              <React.Fragment>\n                <div>{'Please confirm'}</div>\n                <input type='button' value={'Cancel'} onClick={() => this.setState({deleting: false})}></input>\n              </React.Fragment> : null}\n            <input className={'deleteMealButton'} value={`${this.state.deleting ? 'Yes, ' : ''}Delete`} type={'button'} onClick={() => {\n              if(this.state.deleting){\n                this.props.deleteEntry();\n                this.props.closeModal(); //Deleting should only be possible when editing.\n              }\n              else this.setState({deleting: true})\n            }}></input>\n          </React.Fragment> : null}\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react';\nimport {EntryField} from './EntryField.js';\nimport {MealsEntry} from './MealsEntry.js'\nimport {Search} from './Search.js';\nimport axios from 'axios';\n\n//MealsList is called from CalorieTracker\nexport class MealsList extends Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      sortedBy: '',\n      data: [],\n      fromDate: new Date(new Date(new Date().setHours(0,0,0,0)).setDate(-7)), //date from a week ago without the hours.\n      toDate: new Date(new Date().setHours(0,0,0,0)), //today without the hours.\n      fromTime: 0,\n      toTime: 1439,//minutes in a day.\n      error: '',\n      max: 20,\n      skip: 0,\n      count: 0\n    }\n    this.calsPerDay = {};//Where we'll store key item pairs of date and calories\n    this.updateList = this.updateList.bind(this)\n  }\n\n  componentDidMount(){\n    this.updateList(); //init from database\n  }\n\n  componentDidUpdate(prevProps, prevState){\n    if(prevProps.update !== this.props.update || //so meals entry can tell this when to refresh.\n      prevProps.selectedId !== this.props.selectedId //Admin view needs to update when a different user is selected from UserList.\n    ) {this.updateList()}\n  }\n\n  updateList(){\n    this.setState({loading: true})\n    axios({url: `meals`,\n      method: 'GET',\n      params: { //We don't limit the query by time since we need that data to count each day's calories.\n        fromDate: this.state.fromDate,\n        toDate: this.state.toDate,\n        userId: this.props.selectedId\n      }\n    }).then(res => {\n      var data = res.data;\n      this.calsPerDay = {};\n      for(var i = 0; i < data.length; i++){ //Add up the calories for each day.\n        if(this.calsPerDay[data[i].date]){\n          this.calsPerDay[data[i].date] += data[i].calories;\n        } else {\n          this.calsPerDay[data[i].date] = data[i].calories;\n        }\n      }\n      let truncated = data.length >= 999 ? 'Your date Filter is too broad.' : ''\n      this.setState({data: data, error: truncated, count: data.length})\n    }).catch(e => {\n      this.setState({error: e.response ? e.response.data : e.message})\n    }).finally(() => {this.setState({loading: false})})\n  }\n\n  get entryRows(){\n    var entryArray = [];\n    for(var i = this.state.skip; i < this.state.skip + this.state.max && i < this.state.count; i++){\n      let elem = this.state.data[i]\n      if(elem.time >= this.state.fromTime && elem.time <= this.state.toTime){ //filter display by time client side.\n        entryArray.push(\n          <Entry\n            setLoading={bool => this.setState({loading: bool})}\n            setModalContents={this.props.setModalContents}\n            selectedId={this.props.selectedId}\n            updateList={this.updateList}\n            over={this.calsPerDay[elem.date] > this.props.parCalories}\n            key={`${elem._id}${elem.description}${elem.calories}${elem.date}${elem.time}`}\n            data={elem} _id={elem._id}\n            fromDate={this.state.fromDate}\n            toDate={this.state.toDate}/>)\n      }\n    }\n    return entryArray;\n  }\n\n  render(){\n    return (\n      <div className={'mealsList'}>\n        <h2 className={'header'}>{'Meals List'}</h2>\n        <Filters\n          setFromDate={value => {this.setState({fromDate: value}, this.updateList)}}\n          fromDate={this.state.fromDate}\n          setToDate={value => {this.setState({toDate: value}, this.updateList)}}\n          toDate={this.state.toDate}\n          setFromTime={value => {this.setState({fromTime: value})}} //setting this will trigger entryRows to refresh.\n          fromTime={this.state.fromTime}\n          setToTime={value => {this.setState({toTime: value})}} //setting this will trigger entryRows to refresh.\n          toTime={this.state.toTime}\n          updateList={this.updateList} />\n        {this.state.error ? <div className='errorMessage'>{this.state.error}</div> : null}\n        {this.entryRows.length ?\n        <div className={'mealsTable'}>\n          <div className='userListHeader'><Search\n            loading={this.state.loading}\n            skip={this.state.skip}\n            count={this.state.count}\n            max={this.state.max}\n            setSkip={newSkip => {this.setState({skip: newSkip || 0})}}\n            setMax={newMax => {\n              newMax = Number(newMax);\n              this.setState({\n                skip: Math.floor(Number(this.state.skip) / newMax) * newMax,\n                max: Number(newMax)})\n              }\n            }/></div>\n          <table>\n            <thead>\n              <tr>\n                <th>{'Description'}</th>\n                <th>{'Calories'}</th>\n                <th>{'Date'}</th>\n                <th>{'Time'}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {this.entryRows}\n            </tbody>\n          </table>\n        </div> : <div id={'noMealsMessage'}>{'There are no meals in this date range.'}</div>}\n      </div>\n    )\n  }\n}\n\nclass Filters extends Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      error: ''\n    }\n    this.newDate = this.newDate.bind(this);\n  }\n  get fromHours(){\n    return Math.floor(this.props.fromTime / 60);\n  }\n\n  get toHours(){\n    return Math.floor(this.props.toTime / 60);\n  }\n\n  get fromMinutes(){\n    return this.props.fromTime % 60;\n  }\n\n  get toMinutes(){\n    return this.props.toTime % 60;\n  }\n\n  get fromDate(){\n    return this.props.fromDate.getDate();\n  }\n\n  get toDate(){\n    return this.props.toDate.getDate();\n  }\n\n  get fromMonth(){\n    return this.props.fromDate.getMonth() + 1;\n  }\n\n  get toMonth(){\n    return this.props.toDate.getMonth() + 1;\n  }\n\n  get fromYear(){\n    return this.props.fromDate.getFullYear();\n  }\n\n  get toYear(){\n    return this.props.toDate.getFullYear();\n  }\n\n  //If the new date is no good, return the old date with an error.\n  newDate(dateString, oldDate){\n    var theDate;\n    var e = () => {\n      this.setState({error: 'Invalid Date'})\n      return oldDate\n    }\n\n    try{\n      theDate = new Date(dateString);\n      if(theDate.toString() === 'Invalid Date'){\n        return e()\n      }\n      this.setState({error: ''})\n      return theDate;\n    } catch(e){\n      console.log(e.message)\n      return e();\n    }\n  }\n\n  //If the new time is no good, return the old time with an error.\n  newTime(hours, minutes, oldTime){\n    var theTime\n    var e = () => {\n      this.setState({error: 'Invalid Time'});\n      return oldTime;\n    }\n\n    try{\n      theTime = (Number(hours) * 60) + Number(minutes);\n      if(theTime < 0 || theTime > 1439){\n        return e();\n      }\n      this.setState({error: ''})\n      return theTime;\n    } catch(e){\n      console.log(e.message);\n      return e();\n    }\n  }\n\n  render(){ //todo: make to and from share code. (very very low priority.)\n    return (\n      <div className='filters'>\n        <span className='smallLabel'>{'Filter by Date'}</span>\n        <table>\n          <tbody>\n            <tr>\n              <td>{'From'}</td>\n              <td><EntryField min='1' max='12' type={'number'} submit={value => {\n                  this.props.setFromDate(this.newDate(`${value}/${this.fromDate}/${this.fromYear}`, this.props.fromDate))\n                }} maxLength={2} value={this.fromMonth} /></td>\n              <td>{'/'}</td>\n              <td><EntryField min='1' max='31' type={'number'} submit={value => {\n                  this.props.setFromDate(this.newDate(`${this.fromMonth}/${value}/${this.fromYear}`, this.props.fromDate))\n                }} maxLength={2} value={this.fromDate} /></td>\n              <td>{'/'}</td>\n              <td><EntryField min='1900' max='9999' type={'number'} submit={value => {\n                  this.props.setFromDate(this.newDate(`${this.fromMonth}/${this.fromDate}/${value}`, this.props.fromDate))\n                }} maxLength={4} value={this.fromYear} className={'fromYear'}/></td>\n              <td className={'space'}></td>\n              <td><EntryField min='0' max='23' type={'number'} submit={value => {\n                this.props.setFromTime(this.newTime(value, this.fromMinutes, this.props.fromTime))\n              }} maxLength={2} value={this.fromHours < 10 ? `0${this.fromHours}` : this.fromHours} /></td>\n              <td>{':'}</td>\n              <td><EntryField min='1' max='60' type={'number'} submit={value => {\n                this.props.setFromTime(this.newTime(this.fromHours, value, this.props.fromTime))\n              }} maxLength={2} value={this.fromMinutes < 10 ? `0${this.fromMinutes}` : this.fromMinutes} /></td>\n            </tr>\n            <tr>\n              <td>{'To'}</td>\n              <td><EntryField min='1' max='12' type={'number'} submit={value => {\n                  this.props.setToDate(this.newDate(`${value}/${this.toDate}/${this.toYear}`, this.props.toDate))\n                }} maxLength={2} value={this.toMonth} /></td>\n              <td>{'/'}</td>\n              <td><EntryField min='1' max='31' type={'number'} submit={value => {\n                  this.props.setToDate(this.newDate(`${this.toMonth}/${value}/${this.toYear}`, this.props.toDate))\n                }} maxLength={2} value={this.toDate} /></td>\n              <td>{'/'}</td>\n              <td><EntryField min='1900' max='9999' type={'number'} submit={value => {\n                  this.props.setToDate(this.newDate(`${this.toMonth}/${this.toDate}/${value}`, this.props.toDate))\n                }} maxLength={4} value={this.toYear} /></td>\n              <td className={'space'}></td>\n              <td><EntryField min='0' max='23' type={'number'} submit={value => {\n                this.props.setToTime(this.newTime(value, this.toMinutes, this.props.toTime))\n              }} maxLength={2} value={this.toHours < 10 ? `0${this.toHours}` : this.toHours} /></td>\n              <td>{':'}</td>\n              <td><EntryField min='1' max='60' type={'number'} submit={value => {\n                this.props.setToTime(this.newTime(this.toHours, value, this.props.toTime))\n              }} maxLength={2} value={this.toMinutes < 10 ? `0${this.toMinutes}` : this.toMinutes} /></td>\n            </tr>\n            {this.state.error ? <tr><td colSpan='10'><div className={'errorMessage'}>{this.state.error}</div></td></tr> : null}\n          </tbody>\n        </table>\n      </div>\n    )\n  }\n}\n\nclass Entry extends Component {\n  constructor(props){\n    super(props)\n    this.state = {\n      deleting: false,\n      deleted: false,\n      description: this.props.data.description,\n      calories: this.props.data.calories,\n      time: this.props.data.time,\n      date: new Date(this.props.data.date),\n      error: '',\n      loading: false\n    }\n    this.deleteEntry = this.deleteEntry.bind(this)\n  }\n\n  get hours(){\n    return Math.floor(Number(this.state.time) / 60);\n  }\n\n  get minutes(){\n    return this.state.time % 60;\n  }\n\n  get date(){\n    return this.state.date.getDate()\n  }\n\n  get month(){\n    return this.state.date.getMonth() + 1\n  }\n\n  get year(){\n    return this.state.date.getFullYear()\n  }\n\n  deleteEntry(){\n    this.props.setLoading(true)\n    this.setState({loading: true})\n    axios({\n      url: `meals`,\n      method: 'DELETE',\n      data: {\n          _id: this.props._id,\n          userId: this.props.selectedId //We compare this with the jwt and the user's role to make sure they're allowed to edit this entry.\n        }\n      }).then(res => {\n        this.setState({deleted: true})\n        this.props.updateList(); //updateList will stop the loading wheel up top\n    }).catch(e => {\n      this.setState({error: e.response ? e.response.data : e.message})\n    }).finally(() => this.setState({loading: false}))\n  }\n\n  render(){\n    if(!this.props.data || this.state.deleted) return null;\n    return(\n      <React.Fragment>\n        <tr className={this.props.over ? 'overAte' : 'underAte'} onClick={() => this.props.setModalContents(\n          <MealsEntry\n            loading={this.state.loading}\n            fromDate={this.props.fromDate}\n            toDate={this.props.toDate}\n            selectedId={this.props.selectedId}\n            description={this.state.description}\n            calories={this.state.calories}\n            month={this.month}\n            date={this.date}\n            year={this.year}\n            minutes={this.minutes}\n            hours={this.hours}\n            deleteEntry={this.deleteEntry}\n            editing={true}\n            _id={this.props._id}\n            updateMealsList={this.props.updateList}\n            closeModal={() => this.props.setModalContents(null)} />\n        )}>\n          <td>{this.state.description}</td>\n          <td className={'calorieTableDisplay'}>{this.state.calories}</td>\n          <td>{`${this.month}/${this.date}/${this.year}`}</td>\n          <td>{`${this.hours < 10 ? `0${this.hours}` : this.hours}:${this.minutes < 10 ? `0${this.minutes}` : this.minutes}`}</td>\n        </tr>\n        {this.state.error ? <tr><td colSpan='11'><div className={'errorMessage'}>{this.state.error}</div></td></tr> : null}\n      </React.Fragment>\n    )\n  }\n}\n","import React, { Component } from 'react';\nimport {ParChanger} from './ParChanger.js'\nimport {MealsList} from './MealsList.js'\nimport {MealsEntry} from './MealsEntry.js'\n\n//This is a hub for all regular user functionality.\nexport class CalorieTracker extends Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      updateMealsList: false //This let mealsEntry trip a refresh in MealsList.\n    }\n  }\n\n  render(){\n    return (\n      <React.Fragment>\n        <h1 className='header'>{`${this.props.name}'s Calorie Tracker`}</h1>\n        <input type={'button'} id={'logout'} value={'Logout'} onClick={this.props.logout}></input>\n        <div className={'sidebar'}>\n          <ParChanger\n            selectedId={this.props.selectedId}\n            parCalories={this.props.parCalories} setPar={this.props.setPar}/>\n          <MealsEntry selectedId={this.props.selectedId} updateMealsList={() => {\n            this.setState({updateMealsList: !this.state.updateMealsList})\n          }} />\n        </div>\n        <MealsList\n          setModalContents={this.props.setModalContents}\n          selectedId={this.props.selectedId} update={this.state.updateMealsList}\n          parCalories={this.props.parCalories} />\n      </React.Fragment>\n    )\n  }\n}\n","import React, { Component } from 'react';\nimport './App.css';\nimport {storeJwt, getJwt} from './storage.js';\nimport {UserList} from './components/UserList.js';\nimport {Modal} from './components/Modal.js'\nimport {CalorieTracker} from './components/CalorieTracker.js'\nimport {Login} from './components/Login.js'\nimport axios from 'axios';\n\n/*Make the api url correct no matter where this ends up.*/\naxios.defaults.baseURL = function(){\n  let s = window.location.href[4] === 's' ? 's' : ''\n  let host = window.location.host\n  let apiPath = `http${s}://${window.location.host}`\n  if(host.slice(host.length - 5) === ':3000'){\n    apiPath = apiPath.slice(0, apiPath.length - 1) + '1'\n  }\n  return apiPath + '/api/';\n}()\n\n//Set up api calls. auth header will be set in \"getUserData\" below if none is stored.\naxios.defaults.headers.common['Authorization'] = getJwt()\naxios.defaults.headers.post['Content-Type'] = 'application/json';\naxios.interceptors.response.use(undefined, e => { //Let the user know if the jwt is rejected and take them to the login screen.\n  if(e.response.data === 'Login Required'){\n    setTimeout(() => {\n      let logout = document.getElementById('logout')\n      if(logout) logout.click()\n    }, 3000); //3s to be polite. Wrapped in the if just in case they already clicked it.\n    e.response.data = 'Login Required'\n  }\n  return Promise.reject(e);\n});\n\nclass App extends Component {\n  constructor(props){\n    super(props);\n    this.state = this.defaultState;\n    this.getUserData = this.getUserData.bind(this);\n    this.logout = this.logout.bind(this);\n    this.state = {\n      name: '',\n      parCalories: 0,\n      modalContents: null,\n      loading: false\n    }\n    this.alreadyAttempted = 0 //In case the server does not respond, we can try a few more times.\n  }\n\n  get defaultState(){\n    return {\n      name: '',\n      parCalories: 2000,\n      role: 'regular',\n      error: '',\n      selectedId: '',\n      myId: ''\n    }\n  }\n\n  componentDidMount(){\n    this.getUserData(); //init interface from database if a jwt is there.\n  }\n\n  //Sets complete user data (calories and name) at the app level when an admin clicks a \"Edit Meals Data\" button in the user edit modal.\n  //MealsList refreshes if the selectedId changes, so that will be all set too.\n  getUserData(_id, jwtNew){\n    this.setState({loading: true})\n    if(this.alreadyAttempted >= 5) return this.setState({error: 'We are experiencing technical difficulties. Please try again later.'})\n    axios({\n      url:`users`,\n      method: 'GET',\n      params: {_id: _id || undefined}\n    }).then(async res => {\n      var data = res.data;\n      var myId = this.state.myId || data._id\n      this.setState({selectedId: data._id,\n        myId: myId, //Will set to active user on init.\n        error: '',\n        //If a user demotes themselves, their display will update accordingly.\n        myRole: data._id === myId ? data.role : this.state.myRole,\n        ...data\n      });\n      if(!jwtNew) {\n        axios({\n          url: `jwt/freshToken`,\n          method: 'GET',\n        }).then(res => {\n          axios.defaults.headers.common['Authorization'] = res.data;\n          storeJwt(res.data);\n        })\n      }\n    }).catch(e => {\n      if(e.response){\n        console.log(e.response.data)\n        if(e.response.data === 'Login Required'){ //An error with a response means a login is required.\n          axios.defaults.headers.common['Authorization'] = '';\n          storeJwt('');\n          this.setState({error: ''})\n        }\n      } else if(!e.response){ //No response means the server is down. Try request again.\n          this.setState({error: 'Loading...'})\n          this.alreadyAttempted += 1;\n          setTimeout(() => {this.getUserData(_id)}, 1000)  //Try again in case the server was just having a moment (mostly for the developer environment).\n        }\n    }).finally(() => this.setState({loading: false}))\n  }\n\n  logout(){\n    storeJwt(''); //clear out local storage\n    axios.defaults.headers.common['Authorization'] = '';\n    this.setState(this.defaultState)\n  }\n\n  render(){\n    var contents\n    if(Boolean(!this.state.name)){ //No name means they're not logged it since getUserData is called in componentDidMount if there's a jwt.\n      contents = (\n        <React.Fragment>\n          <h1 className='header'>{'Welcome to Calorie Tracker!'}</h1>\n          <Login getUserData={this.getUserData} loading={this.state.loading}/>\n        </React.Fragment>\n      )\n    } else {\n      contents = (//Modal is a the top layer so that is displays properly on mobile.\n        <React.Fragment>\n          {this.state.modalContents ? <Modal children={this.state.modalContents}/> : null}\n          {/^admin|manager$/.test(this.state.myRole) ? <UserList\n            setModalContents={contents => this.setState({modalContents: contents})}\n            myRole={this.state.myRole}\n            myId={this.state.myId}\n            selectedId={this.state.selectedId}\n            getUserData={_id => this.getUserData(_id)}/> : null}\n          <CalorieTracker\n            setModalContents={contents => this.setState({modalContents: contents})}\n            role={this.state.role}\n            name={this.state.name}\n            logout={this.logout}\n            selectedId={this.state.selectedId}\n            parCalories={this.state.parCalories}\n            loading={this.state.loading}\n            setPar={newParCalories => this.setState({parCalories: newParCalories})} />\n        </React.Fragment>)\n    }\n    return (\n      <React.Fragment>\n        {this.state.error ? this.state.error : contents}\n      </React.Fragment>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}